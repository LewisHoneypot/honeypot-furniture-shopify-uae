{% doc %}
  @prompt
    Create a structured Product Info Section for a product page, with the following layout and editable zones. This section is designed for furniture products, especially beds:
    ‚úÖ Top Row (4 Horizontal Buttons)
    
    Add 4 equally spaced rectangular buttons across the top labelled ‚ÄúDouble‚Äù.
    Buttons should be:
    Clickable (optionally linked to size-specific content or scroll anchors)
    Customisable label text (e.g., Double, King, Super King)
    Styled consistently with toggle or tab behaviour (optional)
    üõèÔ∏è Main Content Grid (2 Columns Below Buttons)
    
    Create a two-column grid layout beneath the buttons:
    Left Column (Top) ‚Äî Product Description Box
    Rich text area with WYSIWYG editing
    Pre-fill with placeholder product description text
    Right Column (Top) ‚Äî Image Box
    Uploadable image area
    Maintain consistent ratio (e.g., 4:3 or 1:1)
    Optionally allow zoom on hover or modal view
    üßæ Second Row (Full Width Below):
    
    Left Column ‚Äî Additional Product Info Box
    Rich text field or collapsible accordion
    Ideal for warranty info, materials, or assembly guides
    Right Column ‚Äî Bullet Points in Two Columns
    Dynamic bullet list input field
    Layout should automatically split into 2 responsive columns
    Option to customise bullet style and spacing
    General Settings:
    
    Fully responsive design for tablet and mobile
    Allow custom padding/margins per section
    Use neutral typography and spacing for clean aesthetic, Make the buttons across the top act as tabs so the content below changes dependant on which tab is selected
    , Make the description box smaller and the image smaller
    , Make the image 16:9 ratio
    , make the image take up 50% of the space 
    

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .product-info-section-{{ ai_gen_id }} {
    padding: {{ block.settings.section_padding }}px;
    max-width: 100%;
    margin: 0 auto;
  }

  .product-info-buttons-{{ ai_gen_id }} {
    display: flex;
    justify-content: space-between;
    margin-bottom: 30px;
    gap: {{ block.settings.button_spacing }}px;
  }

  .product-info-button-{{ ai_gen_id }} {
    flex: 1;
    padding: 12px 15px;
    text-align: center;
    background-color: {{ block.settings.button_bg_color }};
    color: {{ block.settings.button_text_color }};
    border: 1px solid {{ block.settings.button_border_color }};
    border-radius: {{ block.settings.button_border_radius }}px;
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s;
    font-weight: 500;
    text-decoration: none;
  }

  .product-info-button-{{ ai_gen_id }}.active {
    background-color: {{ block.settings.button_active_bg_color }};
    color: {{ block.settings.button_active_text_color }};
    border-color: {{ block.settings.button_active_border_color }};
  }

  .product-info-button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.button_hover_bg_color }};
    color: {{ block.settings.button_hover_text_color }};
  }

  .product-info-tab-content-{{ ai_gen_id }} {
    display: none;
  }

  .product-info-tab-content-{{ ai_gen_id }}.active {
    display: block;
  }

  .product-info-grid-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: 50% 50%;
    gap: 0;
    margin-bottom: 30px;
  }

  .product-description-{{ ai_gen_id }} {
    padding: {{ block.settings.content_padding }}px;
    background-color: {{ block.settings.content_bg_color }};
    border-radius: {{ block.settings.content_border_radius }}px;
    font-size: 0.95em;
    line-height: 1.5;
  }

  .product-image-container-{{ ai_gen_id }} {
    position: relative;
    overflow: hidden;
    border-radius: {{ block.settings.content_border_radius }}px;
    height: 0;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    width: 100%;
  }

  .product-image-{{ ai_gen_id }} {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .product-image-placeholder-{{ ai_gen_id }} {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f4f4f4;
  }

  .product-image-placeholder-{{ ai_gen_id }} svg {
    width: 50%;
    height: 50%;
    opacity: 0.5;
  }

  .product-info-second-row-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
  }

  .additional-info-{{ ai_gen_id }} {
    padding: {{ block.settings.content_padding }}px;
    background-color: {{ block.settings.content_bg_color }};
    border-radius: {{ block.settings.content_border_radius }}px;
  }

  .bullet-points-container-{{ ai_gen_id }} {
    padding: {{ block.settings.content_padding }}px;
    background-color: {{ block.settings.content_bg_color }};
    border-radius: {{ block.settings.content_border_radius }}px;
  }

  .bullet-points-columns-{{ ai_gen_id }} {
    column-count: 2;
    column-gap: 30px;
  }

  .bullet-points-columns-{{ ai_gen_id }} ul {
    margin: 0;
    padding-left: 20px;
    list-style-type: {{ block.settings.bullet_style }};
  }

  .bullet-points-columns-{{ ai_gen_id }} li {
    margin-bottom: {{ block.settings.bullet_spacing }}px;
    break-inside: avoid;
  }

  @media screen and (max-width: 768px) {
    .product-info-grid-{{ ai_gen_id }},
    .product-info-second-row-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
    }

    .product-info-buttons-{{ ai_gen_id }} {
      flex-wrap: wrap;
      gap: 10px;
    }

    .product-info-button-{{ ai_gen_id }} {
      flex: 0 0 calc(50% - 5px);
      margin-bottom: 10px;
    }

    .bullet-points-columns-{{ ai_gen_id }} {
      column-count: 1;
    }
    .product-image-container-{{ ai_gen_id }} {
      width: 100%;
      margin-top: 20px;
    }
  }
{% endstyle %}

<div class="product-info-section-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="product-info-buttons-{{ ai_gen_id }}">
    {% for i in (1..4) %}
      {% assign button_text_key = 'button_' | append: i | append: '_text' %}
      {% assign button_text = block.settings[button_text_key] %}
      {% if button_text != blank %}
        <button
          class="product-info-button-{{ ai_gen_id }} {% if forloop.first %}active{% endif %}" 
          data-tab-index="{{ i }}"
          aria-selected="{% if forloop.first %}true{% else %}false{% endif %}"
          role="tab"
          aria-controls="tab-content-{{ ai_gen_id }}-{{ i }}"
        >
          {{ button_text }}
        </button>
      {% endif %}
    {% endfor %}
  </div>

  {% for i in (1..4) %}
    {% assign button_text_key = 'button_' | append: i | append: '_text' %}
    {% assign description_key = 'tab_' | append: i | append: '_description' %}
    {% assign image_key = 'tab_' | append: i | append: '_image' %}
    {% assign additional_info_key = 'tab_' | append: i | append: '_additional_info' %}
    {% assign bullet_points_key = 'tab_' | append: i | append: '_bullet_points' %}
    
    {% assign button_text = block.settings[button_text_key] %}
    {% assign description = block.settings[description_key] %}
    {% assign image = block.settings[image_key] %}
    {% assign additional_info = block.settings[additional_info_key] %}
    {% assign bullet_points = block.settings[bullet_points_key] %}
    
    {% if button_text != blank %}
      <div 
        id="tab-content-{{ ai_gen_id }}-{{ i }}" 
        class="product-info-tab-content-{{ ai_gen_id }} {% if forloop.first %}active{% endif %}"
        role="tabpanel"
        aria-labelledby="tab-{{ i }}"
      >
        <div class="product-info-grid-{{ ai_gen_id }}">
          <div class="product-description-{{ ai_gen_id }}">
            {{ description }}
          </div>

          <div class="product-image-container-{{ ai_gen_id }}">
            {% if image %}
              <img 
                src="{{ image | image_url: width: 800 }}" 
                alt="{{ image.alt | escape }}"
                class="product-image-{{ ai_gen_id }}"
                loading="lazy"
                width="{{ image.width }}"
                height="{{ image.height }}"
              >
            {% else %}
              <div class="product-image-placeholder-{{ ai_gen_id }}">
                {{ 'product-apparel-1' | placeholder_svg_tag }}
              </div>
            {% endif %}
          </div>
        </div>

        <div class="product-info-second-row-{{ ai_gen_id }}">
          <div class="additional-info-{{ ai_gen_id }}">
            {{ additional_info }}
          </div>

          <div class="bullet-points-container-{{ ai_gen_id }}">
            <div class="bullet-points-columns-{{ ai_gen_id }}">
              {{ bullet_points }}
            </div>
          </div>
        </div>
      </div>
    {% endif %}
  {% endfor %}
</div>

<script>
  (function() {
    const productInfoSection = document.querySelector('.product-info-section-{{ ai_gen_id }}');
    if (!productInfoSection) return;
    
    const buttons = productInfoSection.querySelectorAll('.product-info-button-{{ ai_gen_id }}');
    const tabContents = productInfoSection.querySelectorAll('.product-info-tab-content-{{ ai_gen_id }}');
    
    buttons.forEach(button => {
      button.addEventListener('click', function() {
        const tabIndex = this.getAttribute('data-tab-index');
        
        // Remove active class from all buttons and tab contents
        buttons.forEach(btn => {
          btn.classList.remove('active');
          btn.setAttribute('aria-selected', 'false');
        });
        
        tabContents.forEach(content => {
          content.classList.remove('active');
        });
        
        // Add active class to clicked button and corresponding tab content
        this.classList.add('active');
        this.setAttribute('aria-selected', 'true');
        
        const activeTabContent = productInfoSection.querySelector(`#tab-content-{{ ai_gen_id }}-${tabIndex}`);
        if (activeTabContent) {
          activeTabContent.classList.add('active');
        }
      });
    });
  })();
</script>

{% schema %}
{
  "name": "Product Info Section",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Tab Configuration"
    },
    {
      "type": "text",
      "id": "button_1_text",
      "label": "Tab 1 Title",
      "default": "Double"
    },
    {
      "type": "richtext",
      "id": "tab_1_description",
      "label": "Tab 1 Description",
      "default": "<p>Our Double bed frame measures 135cm x 190cm (4'6\" x 6'3\") and is perfect for couples or individuals who enjoy extra sleeping space. This size offers a good balance between comfort and room efficiency.</p>"
    },
    {
      "type": "image_picker",
      "id": "tab_1_image",
      "label": "Tab 1 Image"
    },
    {
      "type": "richtext",
      "id": "tab_1_additional_info",
      "label": "Tab 1 Additional Info",
      "default": "<p><strong>Double Bed Specifications:</strong></p><p>Dimensions: 135cm x 190cm (4'6\" x 6'3\")<br>Weight capacity: 350kg<br>Assembly time: Approximately 45 minutes<br>Recommended mattress: Double (135cm x 190cm)</p>"
    },
    {
      "type": "richtext",
      "id": "tab_1_bullet_points",
      "label": "Tab 1 Bullet Points",
      "default": "<ul><li>Ideal for couples or individuals who like extra space</li><li>Fits comfortably in most standard bedrooms</li><li>Compatible with our Double storage drawers</li><li>Includes reinforced center support</li><li>Headboard height: 100cm</li><li>Footboard height: 40cm</li><li>Floor clearance: 20cm</li><li>Frame weight: 45kg</li></ul>"
    },
    {
      "type": "text",
      "id": "button_2_text",
      "label": "Tab 2 Title",
      "default": "King"
    },
    {
      "type": "richtext",
      "id": "tab_2_description",
      "label": "Tab 2 Description",
      "default": "<p>Our King size bed frame measures 150cm x 200cm (5' x 6'6\") and provides generous space for couples. This popular size offers extra width and length compared to a Double, ensuring a comfortable night's sleep.</p>"
    },
    {
      "type": "image_picker",
      "id": "tab_2_image",
      "label": "Tab 2 Image"
    },
    {
      "type": "richtext",
      "id": "tab_2_additional_info",
      "label": "Tab 2 Additional Info",
      "default": "<p><strong>King Bed Specifications:</strong></p><p>Dimensions: 150cm x 200cm (5' x 6'6\")<br>Weight capacity: 400kg<br>Assembly time: Approximately 60 minutes<br>Recommended mattress: King (150cm x 200cm)</p>"
    },
    {
      "type": "richtext",
      "id": "tab_2_bullet_points",
      "label": "Tab 2 Bullet Points",
      "default": "<ul><li>Perfect for couples who value sleeping space</li><li>Extra length accommodates taller individuals</li><li>Compatible with our King storage drawers</li><li>Includes dual reinforced center supports</li><li>Headboard height: 110cm</li><li>Footboard height: 45cm</li><li>Floor clearance: 20cm</li><li>Frame weight: 55kg</li></ul>"
    },
    {
      "type": "text",
      "id": "button_3_text",
      "label": "Tab 3 Title",
      "default": "Super King"
    },
    {
      "type": "richtext",
      "id": "tab_3_description",
      "label": "Tab 3 Description",
      "default": "<p>Our Super King bed frame measures 180cm x 200cm (6' x 6'6\") and offers luxurious sleeping space. This generous size is perfect for couples who prioritize maximum comfort and room to stretch out.</p>"
    },
    {
      "type": "image_picker",
      "id": "tab_3_image",
      "label": "Tab 3 Image"
    },
    {
      "type": "richtext",
      "id": "tab_3_additional_info",
      "label": "Tab 3 Additional Info",
      "default": "<p><strong>Super King Specifications:</strong></p><p>Dimensions: 180cm x 200cm (6' x 6'6\")<br>Weight capacity: 450kg<br>Assembly time: Approximately 75 minutes<br>Recommended mattress: Super King (180cm x 200cm)</p>"
    },
    {
      "type": "richtext",
      "id": "tab_3_bullet_points",
      "label": "Tab 3 Bullet Points",
      "default": "<ul><li>Ultimate luxury sleeping experience</li><li>Ideal for master bedrooms and larger spaces</li><li>Compatible with our Super King storage options</li><li>Includes triple reinforced center supports</li><li>Headboard height: 120cm</li><li>Footboard height: 45cm</li><li>Floor clearance: 20cm</li><li>Frame weight: 65kg</li></ul>"
    },
    {
      "type": "text",
      "id": "button_4_text",
      "label": "Tab 4 Title",
      "default": "Emperor"
    },
    {
      "type": "richtext",
      "id": "tab_4_description",
      "label": "Tab 4 Description",
      "default": "<p>Our Emperor bed frame measures 200cm x 200cm (6'6\" x 6'6\") and represents the pinnacle of bedroom luxury. This majestic size provides unparalleled sleeping space for those who demand the very best.</p>"
    },
    {
      "type": "image_picker",
      "id": "tab_4_image",
      "label": "Tab 4 Image"
    },
    {
      "type": "richtext",
      "id": "tab_4_additional_info",
      "label": "Tab 4 Additional Info",
      "default": "<p><strong>Emperor Specifications:</strong></p><p>Dimensions: 200cm x 200cm (6'6\" x 6'6\")<br>Weight capacity: 500kg<br>Assembly time: Approximately 90 minutes<br>Recommended mattress: Emperor (200cm x 200cm)</p>"
    },
    {
      "type": "richtext",
      "id": "tab_4_bullet_points",
      "label": "Tab 4 Bullet Points",
      "default": "<ul><li>The ultimate statement piece for your bedroom</li><li>Requires a spacious master bedroom</li><li>Custom storage solutions available</li><li>Features our premium support system</li><li>Headboard height: 130cm</li><li>Footboard height: 50cm</li><li>Floor clearance: 20cm</li><li>Frame weight: 80kg</li></ul>"
    },
    {
      "type": "header",
      "content": "Style Settings"
    },
    {
      "type": "range",
      "id": "section_padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Section Padding",
      "default": 30
    },
    {
      "type": "range",
      "id": "content_padding",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Content Box Padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "button_spacing",
      "min": 5,
      "max": 30,
      "step": 5,
      "unit": "px",
      "label": "Button Spacing",
      "default": 10
    },
    {
      "type": "range",
      "id": "content_border_radius",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Content Border Radius",
      "default": 8
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Button Border Radius",
      "default": 4
    },
    {
      "type": "header",
      "content": "Bullet Point Settings"
    },
    {
      "type": "select",
      "id": "bullet_style",
      "label": "Bullet Style",
      "options": [
        {
          "value": "disc",
          "label": "Filled Circle"
        },
        {
          "value": "circle",
          "label": "Open Circle"
        },
        {
          "value": "square",
          "label": "Square"
        },
        {
          "value": "decimal",
          "label": "Numbers"
        }
      ],
      "default": "disc"
    },
    {
      "type": "range",
      "id": "bullet_spacing",
      "min": 5,
      "max": 30,
      "step": 5,
      "unit": "px",
      "label": "Bullet Point Spacing",
      "default": 10
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "content_bg_color",
      "label": "Content Background Color",
      "default": "#f9f9f9"
    },
    {
      "type": "color",
      "id": "button_bg_color",
      "label": "Button Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "button_border_color",
      "label": "Button Border Color",
      "default": "#dddddd"
    },
    {
      "type": "color",
      "id": "button_hover_bg_color",
      "label": "Button Hover Background Color",
      "default": "#f5f5f5"
    },
    {
      "type": "color",
      "id": "button_hover_text_color",
      "label": "Button Hover Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_active_bg_color",
      "label": "Active Button Background Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "button_active_text_color",
      "label": "Active Button Text Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_active_border_color",
      "label": "Active Button Border Color",
      "default": "#333333"
    }
  ],
  "presets": [
    {
      "name": "Product Info Section"
    }
  ]
}
{% endschema %}