<div class="breadcrumb-banner relative custom_breadcrumb {{ section.settings.banner_height }}" 
     style="
        background-image: url({{ section.settings.banner_bg | image_url: width: 1600 }}); 
        background-size: cover; 
        background-position: center; 
        color: #fff;">

  <!-- Breadcrumb on Top Left -->
  {%- unless template == 'index' -%}
    <nav class="breadcrumb absolute top-5 left-5 text-white" role="navigation" aria-label="breadcrumbs">
      <ul class="flex gap-2 text-sm">
        <li>
          <a class="underline" href="{{ routes.root_url }}">
            {{ 'breadcrumb.home' | t }}
          </a>
        </li>
        /
        <li class="is-active">
          <span aria-current="page">{{ page_title }}</span>
        </li>
      </ul>
    </nav>
  {%- endunless -%}

  <!-- Banner Content (centered) -->
  <div class="banner-content absolute inset-0 z-10 flex flex-col items-center justify-center text-center px-4">
    {% if section.settings.banner_heading != blank %}
      <h1 class="text-4xl md:text-6xl font-bold leading-tight">{{ section.settings.banner_heading }}</h1>
    {% endif %}

    {% if section.settings.banner_text != blank %}
      <div class="divider-text flex items-center justify-center w-full max-w-2xl mt-4 mb-4">
        <span class="flex-1 border-t border-white"></span>
        <span class="px-3 text-base md:text-lg whitespace-nowrap">{{ section.settings.banner_text }}</span>
        <span class="flex-1 border-t border-white"></span>
      </div>
    {% endif %}

    {% if section.settings.banner_button_text != blank and section.settings.banner_button_link != blank %}
      <a href="{{ section.settings.banner_button_link }}" class="btn btn-primary mt-4 inline-block">
        {{ section.settings.banner_button_text }}
      </a>
    {% endif %}
  </div>
</div>

<style>
/* Banner Height Options */
.custom_breadcrumb.small { height: 300px; }
.custom_breadcrumb.medium { height: 450px; }
.custom_breadcrumb.large { height: 700px; }

/* Breadcrumb Links */
.custom_breadcrumb .breadcrumb ul li a { 
  color: white !important;
}
.custom_breadcrumb .breadcrumb ul { 
  display: flex;
  gap: 6px;
  list-style: none;
}
.custom_breadcrumb .breadcrumb { 
  background:none !important;
  margin-left: -40px;
  padding-top: 17px;
}

/* Responsive Styling */
@media (max-width: 767px) {
  .banner-content h1 {
    font-size: 1.8rem; /* Smaller heading on mobile */
  }
  .divider-text span {
    font-size: 0.9rem; /* Smaller text on mobile */
  }
  .custom_breadcrumb.small { height: 200px; }
  .custom_breadcrumb.medium { height: 300px; }
  .custom_breadcrumb.large { height: 400px; }
}
</style>

{% schema %}
{
  "name": "Breadcrumb with Banner",
  "settings": [
    {
      "type": "image_picker",
      "id": "banner_bg",
      "label": "Banner Background Image"
    },
    {
      "type": "select",
      "id": "banner_height",
      "label": "Banner Height",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ],
      "default": "medium"
    },
    {
      "type": "text",
      "id": "banner_heading",
      "label": "Banner Heading",
      "default": "Page Title Here"
    },
    {
      "type": "textarea",
      "id": "banner_text",
      "label": "Banner Text",
      "default": "You can add some description here."
    },
    {
      "type": "text",
      "id": "banner_button_text",
      "label": "Button Text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "banner_button_link",
      "label": "Button Link"
    }
  ],
  "presets": [
    {
      "name": "Breadcrumb with Banner",
      "category": "Custom"
    }
  ]
}
{% endschema %}
