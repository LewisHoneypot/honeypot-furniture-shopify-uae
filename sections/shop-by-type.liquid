<section class="shop-by-type-section">
  <div class="page-width">
    <h2 class="shop-by-type-heading">{{ section.settings.heading }}</h2>

    <div class="shop-by-type-scroll-wrapper">
      <div class="shop-by-type-scroll">
        <div class="shop-by-type-row">
          {% for block in section.blocks %}
            <div class="shop-type-item">
              <a href="{{ block.settings.link }}" class="shop-type-link">
                {% if block.settings.image != blank %}
                  <img
                    src="{{ block.settings.image | image_url: width: 1200 }}"
                    alt="{{ block.settings.title | escape }}"
                    class="shop-type-image"
                    loading="lazy"
                  >
                {% else %}
                  {{ 'image' | placeholder_svg_tag: 'placeholder-svg shop-type-image' }}
                {% endif %}
                <div class="shop-type-title">{{ block.settings.title }}</div>
              </a>
            </div>
          {% endfor %}
        </div>
      </div>

      <!-- Persistent scrollbar line below -->
      <div class="shop-scrollbar-track">
        <div class="shop-scrollbar-thumb"></div>
      </div>
    </div>
  </div>
<<<<<<< HEAD

{% render 'guarantee-strip', text_1: section.settings.text_1, text_2: section.settings.text_2, text_3: section.settings.text_3 %}

</section>



<style>
.shop-by-type-section {
  padding: 25px 0 0 0;
=======
</section>

<style>
.shop-by-type-section {
  padding: 80px 0;
>>>>>>> 7eb11d3134dc41e19a81f67358bfa3c88e489f77
  background-color: #F9F7F5;
}

.shop-by-type-heading {
  font-size: 1.75rem;
  text-align: center;
  font-weight: 600;
  margin-bottom: 2.5rem;
  color: #111;
}

/* --- Scroll container --- */
.shop-by-type-scroll-wrapper {
  position: relative;
}

.shop-by-type-scroll {
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none; /* hide native scrollbar */
}

.shop-by-type-row {
  display: flex;
  gap: 1.5rem;
  scroll-behavior: smooth;
  padding-bottom: 1rem;
}

/* --- Product items --- */
.shop-type-item {
  flex: 0 0 300px;
  text-align: center;
  background: #fff;
  border-radius: 8px;
  overflow: hidden;
  transition: transform 0.3s ease;
}

.shop-type-item:hover {
  transform: translateY(-3px);
}

.shop-type-link {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-decoration: none;
  color: inherit;
}

.shop-type-image {
  width: 100%;
  height: auto;
  display: block;
  object-fit: cover;
  background-color: #f4f4f4;
}

.shop-type-title {
  font-size: 1rem;
  font-weight: 600;
  color: #111;
  margin: 1rem 0;
}

/* --- Custom static scrollbar --- */
.shop-scrollbar-track {
  background: #fff;
  height: 6px;
  border-radius: 10px;
  margin-top: 15px; /* move scrollbar lower from images */
  position: relative;
  overflow: hidden;
}

.shop-scrollbar-thumb {
  background: #bcbcbc;
  height: 100%;
  width: 25%;
  border-radius: 10px;
  transition: width 0.2s ease, background 0.3s ease;
}

.shop-scrollbar-thumb:hover {
  background: #999;
}

/* Responsive */
@media (max-width: 768px) {
  .shop-type-item {
    flex: 0 0 75%;
  }
  .shop-scrollbar-thumb {
    width: 50%;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const scrollArea = document.querySelector('.shop-by-type-scroll');
  const thumb = document.querySelector('.shop-scrollbar-thumb');

  function updateThumb() {
    const scrollWidth = scrollArea.scrollWidth - scrollArea.clientWidth;
    const scrollLeft = scrollArea.scrollLeft;
    const thumbWidth = (scrollArea.clientWidth / scrollArea.scrollWidth) * 100;
    thumb.style.width = `${thumbWidth}%`;
    thumb.style.transform = `translateX(${(scrollLeft / scrollWidth) * 100}%)`;
  }

  scrollArea.addEventListener('scroll', updateThumb);
  window.addEventListener('resize', updateThumb);
  updateThumb();
});
</script>

{% schema %}
{
  "name": "Shop By Type",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "Shop By Type"
<<<<<<< HEAD
    },
                              {
      "type": "text",
      "id": "text_1",
      "label": "First Text",
      "default": "Over 150+ Fabrics & Colours"
    },
    {
      "type": "text",
      "id": "text_2",
      "label": "Second Text",
      "default": "Book a Free Home Visit"
    },
    {
      "type": "text",
      "id": "text_3",
      "label": "Third Text",
      "default": "Unlimited Customisation"
    },
=======
    }
>>>>>>> 7eb11d3134dc41e19a81f67358bfa3c88e489f77
  ],
  "blocks": [
    {
      "type": "type_item",
      "name": "Sofa Type",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Upload Image" },
        { "type": "text", "id": "title", "label": "Title", "default": "3 Seater Sofas" },
<<<<<<< HEAD
        { "type": "url", "id": "link", "label": "Link" },
  
      ]
    },
 
=======
        { "type": "url", "id": "link", "label": "Link" }
      ]
    }
>>>>>>> 7eb11d3134dc41e19a81f67358bfa3c88e489f77
  ],
  "presets": [
    {
      "name": "Shop By Type",
      "category": "Custom Sections"
    }
  ]
}
{% endschema %}
